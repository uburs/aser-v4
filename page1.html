<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion-Enhanced Captions - Page 1</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            display: none;
            width: 90%;
            height: 80%;
            border: 2px solid #000;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        .container.active {
            display: flex;
        }
        .video-box {
            width: 30%;
            display: flex;
            justify-content: center;
            align-items: center;
            border-right: 2px solid #000;
        }
        .caption-box {
            width: 70%;
            padding: 20px;
            overflow-y: auto;
            font-size: 18px;
            line-height: 1.5;
            background: #fff;
            text-align: center;
        }
        .quiz-container {
            order: 3;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .emotion-happy {
            color: green;
        }
        .emotion-sad {
            color: blue;
        }
        .emotion-angry {
            color: red;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        .caption-text {
            display: inline-block;
            margin-right: 5px;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        .caption-text.bold {
            font-weight: bold;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        video {
            width: 80%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .caption-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 20px;
            text-align: center;
            color: rgb(71, 43, 43);
            font-size: 18px;
            line-height: 1.0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .emotion-detection-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            overflow-y: hidden;
            padding: 20px;
            text-align: center;
            color: black;
            font-size: 18px;
            line-height: 1.0;
            display: flex;
            flex-direction: column;
            align-items: center;
            pointer-events: none;
        }
        .emotion-text {
            display: inline-block;
            margin-right: 5px;
            animation: moveUp 10s linear infinite;
        }
        @keyframes moveUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(-100%);
            }
        }
        .navigation {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 10px;
            background-color: rgba(65, 125, 45, 0.941);
        }
        #surveyButton {
            padding: 15px 30px;
            font-size: 18px;
            background-color: rgb(198, 205, 125);
            margin-left: auto;
        }
        .heading {
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="heading">Caption Prototype 1</div>
    <p>Normal caption and speaker live video</p>
    <div id="page1" class="container active">
        <div class="video-box">
            <video id="video1" src="images/introComputing.mp4" autoplay muted></video>
        </div>
        <div class="caption-box" id="captionBox1">
            <!-- Captions will appear here -->
        </div>

        <!--
        <div id="quiz1" class="quiz-container">
            <h3>Quiz: What is computer science?</h3>
            <form id="quizForm1">
                <label>
                    <input type="radio" name="q1" value="The study of languages"> The study of languages
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of computation, automation, and information"> The study of computation, automation, and information
                </label><br>
                <label>
                    <input type="radio" name="q1" value="The study of biology"> The study of biology
                </label><br>
                <label>
                    <input type="radio" name="q1" value="Coding"> Coding
                </label><br>
            </form>
        </div>
    -->
        
        <div class="navigation">
           <a href="page2.html"><button id="next1">Next</button></a>  
            <button id="surveyButton" onclick="window.location.href='https://virginiatech.questionpro.com/prototype1'">Begin Prototype 1 Survey</button>
        </div>
    </div>
    <script>
        const textPage1 = "Introduction to Computer Science: Computer science is the study of computation, automation, and information. It involves the theory of computation, algorithms, data structures, computer and network design, and artificial intelligence. Understanding these concepts is crucial for developing efficient and innovative technological solutions. Computer science spans several core areas including programming, systems architecture, databases, and software engineering. Additionally, fields like artificial intelligence, machine learning, and data science have grown significantly in recent years. By mastering computer science principles, you can develop software that solves real-world problems, create systems that drive the future of technology, and contribute to advancements in numerous industries. The fields of computer science involve various disciplines under computer science. Generally, computer science is a discipline that deals with the study of computers, computing, and computational systems. This includes their algorithmic and theoretical bases. It focuses on the development, theory, design, and application of software and its systems. In turn, computer science fields involve the various subsets that exist within this general discipline. These fields often overlap, making it possible for a computer scientist in one field to act in other computer science fields Due to the diverse nature of computer science, a computer scientist's responsibilities can span from decoding abstract issues to human and computer interaction. Nevertheless, because the earth is becoming more interconnected, computer science skills have become increasingly necessary for the present day and the future. Disciplines like mathematics and engineering serve as influences for the foundations of computer science, making the design of the electronic circuit and the study of statistics, probability, and queuing theory relevant.";

        const captionsPage1 = textPage1.split(' ').map(word => ({ text: word, emotion: "neutral" }));

        function displayCaption(captionBox, textArray, index = 0, wordsPerLine = 13) {
            if (index < textArray.length) {
                setTimeout(() => {
                    let line = textArray.slice(index, index + wordsPerLine).map(word => {
                        const span = document.createElement('span');
                        span.classList.add('caption-text', `emotion-${word.emotion}`);
                        span.textContent = word.text;
                        return span;
                    });

                    line.forEach(span => captionBox.appendChild(span));
                    captionBox.appendChild(document.createElement('br'));
                    captionBox.scrollTop = captionBox.scrollHeight; // Scroll to bottom

                    displayCaption(captionBox, textArray, index + wordsPerLine, wordsPerLine);
                }, 3000); // Adjust the speed of the captions here
            }
        }

        window.onload = () => {
            displayCaption(document.getElementById('captionBox1'), captionsPage1, 0, 13);
        };
    </script>
</body>
</html>
